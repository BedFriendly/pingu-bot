# Pingu Bot - 기능 명세서

## 프로젝트 개요

**프로젝트명**: Pingu Bot
**목적**: 소규모 Discord 서버를 위한 오락/엔터테인먼트 봇
**대상 규모**: 10개 미만의 서버
**기술 스택**: Discord.js v14 + TypeScript

## 핵심 가치

- **재미**: 서버 멤버들에게 즐거운 경험 제공
- **간단함**: 복잡하지 않고 직관적인 명령어
- **참여**: 멤버들 간의 상호작용 촉진

## 기능 명세

### 1. 미니 게임 (Priority: High)

#### 1.1 주사위 굴리기

- **명령어**: `/dice [개수] [면수]`
- **설명**: 주사위를 굴려 랜덤 결과 생성
- **예시**: `/dice 2 6` → 6면 주사위 2개 굴리기
- **출력**: 각 주사위 결과 + 합계

#### 1.2 가위바위보

- **명령어**: `/rps <선택>`
- **설명**: 봇과 가위바위보 게임
- **선택지**: rock, paper, scissors
- **보상**: 승리 시 코인 획득

#### 1.3 코인 플립

- **명령어**: `/coinflip <예측> [베팅액]`
- **설명**: 동전 던지기 게임
- **예측**: heads, tails
- **베팅**: 보유 코인으로 베팅 가능

#### 1.4 숫자 맞추기

- **명령어**: `/guess <숫자>`
- **설명**: 1-100 사이 숫자 맞추기 게임
- **힌트**: "더 높아요", "더 낮아요" 힌트 제공
- **보상**: 시도 횟수에 따라 코인 획득

### 2. 경제 시스템 (Priority: High)

#### 2.1 가상 화폐 (Pingu Coins)

- 기본 화폐 단위: PC (Pingu Coins)
- 획득 방법:
  - 일일 보상 (Daily)
  - 게임 승리
  - 레벨업 보너스

#### 2.2 일일 보상

- **명령어**: `/daily`
- **보상**: 100-500 PC (랜덤)
- **쿨다운**: 24시간

#### 2.3 잔액 확인

- **명령어**: `/balance [@유저]`
- **설명**: 자신 또는 타인의 코인 잔액 확인

#### 2.4 코인 전송

- **명령어**: `/pay @유저 <금액>`
- **설명**: 다른 유저에게 코인 전송
- **제한**: 최소 10 PC

#### 2.5 랭킹 시스템

- **명령어**: `/leaderboard [타입]`
- **타입**: coins, level, wins
- **출력**: 상위 10명 표시

### 3. 레벨링 시스템 (Priority: Medium)

#### 3.1 경험치 획득

- 메시지 전송 시 15-25 XP 획득
- 쿨다운: 60초 (스팸 방지)
- 레벨업 공식: `XP = 100 * level^1.5`

#### 3.2 레벨 확인

- **명령어**: `/level [@유저]`
- **출력**: 레벨, 현재 XP, 다음 레벨까지 필요 XP
- **시각화**: 프로그레스 바

#### 3.3 레벨업 알림

- 레벨업 시 축하 메시지
- 보상 코인 지급 (레벨 \* 100 PC)

### 4. 재미 명령어 (Priority: Medium)

#### 4.1 랜덤 펭귄 사진

- **명령어**: `/penguin`
- **설명**: 랜덤 펭귄 이미지 표시
- **출처**: Unsplash API 또는 사전 수집 이미지

#### 4.2 8볼 (Magic 8 Ball)

- **명령어**: `/8ball <질문>`
- **설명**: 질문에 랜덤 답변
- **답변**: 긍정/부정/중립 답변 모음

#### 4.3 선택 도우미

- **명령어**: `/choose <선택1> <선택2> [선택3...]`
- **설명**: 여러 선택지 중 하나를 랜덤 선택
- **예시**: `/choose 피자 치킨 햄버거`

#### 4.4 주사위 게임

- **명령어**: `/roll`
- **설명**: 1-100 사이 랜덤 숫자 생성
- **용도**: 확률 판정, 순서 정하기

### 5. 서버 관리 (Priority: Low)

#### 5.1 서버 설정

- **명령어**: `/config <설정> <값>`
- **설정 항목**:
  - `level_channel`: 레벨업 알림 채널
  - `welcome_channel`: 환영 메시지 채널
  - `language`: ko/en

#### 5.2 환영 메시지

- 새 멤버 입장 시 환영 메시지
- 커스터마이징 가능한 메시지 템플릿

### 6. 유틸리티 (Priority: Low)

#### 6.1 도움말

- **명령어**: `/help [명령어]`
- **설명**: 명령어 목록 및 사용법
- **카테고리별 분류**: 게임, 경제, 유틸리티

#### 6.2 봇 정보

- **명령어**: `/info`
- **출력**: 봇 버전, 서버 수, 유저 수, 업타임

#### 6.3 핑

- **명령어**: `/ping`
- **출력**: 봇 지연시간 (레이턴시)

## 사용자 스토리

### 게임 플레이어

- 심심할 때 간단한 게임을 즐기고 싶다
- 친구들과 점수를 경쟁하고 싶다
- 코인을 모아서 순위에 오르고 싶다

### 서버 관리자

- 서버를 활성화시킬 재미있는 기능이 필요하다
- 복잡하지 않은 설정으로 봇을 운영하고 싶다
- 멤버들의 참여를 유도하고 싶다

### 일반 유저

- 가끔 재미있는 명령어를 사용하고 싶다
- 랭킹 시스템으로 성취감을 느끼고 싶다
- 다른 유저들과 상호작용하고 싶다

## 제외 기능 (Out of Scope - v1.0)

- 음악 재생 (저작권 및 복잡성 문제)
- 복잡한 RPG 시스템
- 모더레이션 기능 (밴, 킥, 뮤트 등)
- 티켓 시스템
- 커스텀 명령어 생성

## 성공 지표

- 일일 활성 유저 수
- 명령어 사용 빈도
- 게임 참여율
- 서버 재사용률

## 기술 요구사항

### 필수

- Discord.js v14
- TypeScript
- Node.js 20+
- 데이터베이스 (SQLite 또는 PostgreSQL)

### 선택

- Redis (캐싱, 레이트 리밋)
- 이미지 API (Unsplash, Pexels)

## 데이터 모델

### Guild (서버)

- guild_id
- prefix (기본값: /)
- level_channel_id
- welcome_channel_id
- language

### User

- user_id
- username
- coins
- experience
- level
- total_wins
- total_games
- last_daily

### GameStats

- user_id
- game_type
- wins
- losses
- total_played

## 제약사항

- 최대 10개 서버 지원
- 동시 사용자 수: ~500명 이하
- 데이터베이스: 경량 솔루션 우선
- 호스팅: 무료/저가 플랫폼 (Railway, Fly.io)
